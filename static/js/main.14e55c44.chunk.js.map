{"version":3,"sources":["storage.js","App.js","index.js","logo.svg"],"names":["getFromStorage","key","valueStr","localStorage","getItem","JSON","parse","err","App","props","state","apiResponse","dbResponse","isLoading","token","signUpError","signInError","signInEmail","signInPassword","signUpFirstName","signUpLastName","signUpEmail","signUpPassword","onTextboxChangeSignInEmail","bind","onTextboxChangeSignInPassword","onTextboxChangeSignUpFirstName","onTextboxChangeSignUpLastName","onTextboxChangeSignUpEmail","onTextboxChangeSignUpPassword","onSignIn","onSignUp","logout","fetch","then","res","text","setState","catch","this","callAPI","callDB","obj","json","success","event","target","value","method","headers","body","stringify","firstName","lastName","email","password","message","console","log","error","setItem","setInStorage","className","src","logo","alt","onClick","type","placeholder","onChange","Component","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.14e55c44.chunk.js","sourcesContent":["export function getFromStorage(key) {\n    if (!key) {\n        return null;\n    }\n    try {\n        const valueStr = localStorage.getItem(key);\n        if (valueStr) {\n            return JSON.parse(valueStr);\n        }\n        return null;\n    } catch (err) {\n        return null;\n    }\n}\n\nexport function setInStorage(key, obj) {\n    if (!key) {\n        console.error('Error: Key is missing');\n    }\n    try {\n        localStorage.setItem(key, JSON.stringify(obj));\n    } catch (err) {\n        console.error(err);\n    }\n}","import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { getFromStorage, setInStorage } from './storage';\nimport 'whatwg-fetch';\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { \n        apiResponse: \"\",\n        dbResponse: \"\",\n        isLoading: true,\n        token: '',\n        signUpError: '',\n        signInError: '',\n        signInEmail: '',\n        signInPassword: '',\n        signUpFirstName: '',\n        signUpLastName: '',\n        signUpEmail: '',\n        signUpPassword: '', \n    };\n\n    this.onTextboxChangeSignInEmail = this.onTextboxChangeSignInEmail.bind(this);\n    this.onTextboxChangeSignInPassword = this.onTextboxChangeSignInPassword.bind(this);\n    this.onTextboxChangeSignUpFirstName = this.onTextboxChangeSignUpFirstName.bind(this);\n    this.onTextboxChangeSignUpLastName = this.onTextboxChangeSignUpLastName.bind(this);\n    this.onTextboxChangeSignUpEmail = this.onTextboxChangeSignUpEmail.bind(this);\n    this.onTextboxChangeSignUpPassword = this.onTextboxChangeSignUpPassword.bind(this);\n\n    this.onSignIn = this.onSignIn.bind(this);\n    this.onSignUp = this.onSignUp.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  callAPI() {\n    fetch(\"https://reactappconnectionapi.herokuapp.com/testAPI\")\n        .then(res => res.text())\n        .then(res => this.setState({ apiResponse: res }))\n        .catch(err => err);\n  }\n\n  callDB() {    \n    fetch(\"https://reactappconnectionapi.herokuapp.com/testDB\")        \n      .then(res => res.text())        \n      .then(res => this.setState({ dbResponse: res }))        \n      .catch(err => err);\n  }\n\n\n  // componentDidMount() {\n  //     this.callAPI();\n  //     this.callDB();\n  // }\n\n    componentDidMount() {\n    this.callAPI();\n    this.callDB();\n    const obj = getFromStorage('the_main_app');\n    if (obj && obj.token) {\n      // verify the token\n      fetch('https://reactappconnectionapi.herokuapp.com/verify?token=' + obj.token)\n      .then(res => res.json())\n      .then(json => {\n        if (json.success) {\n          this.setState({\n            token: obj.token,\n            isLoading: false\n          });\n        } else {\n          this.setState({\n            isLoading: false,\n          });\n        }\n      }).catch(err => err);\n    } else {\n      // there is no token\n      this.setState({\n        isLoading: false\n      });\n    }\n  }\n\n  onTextboxChangeSignInEmail(event) {\n    this.setState({\n      signInEmail: event.target.value\n    });\n  }\n\n  onTextboxChangeSignInPassword(event) {\n    this.setState({\n      signInPassword: event.target.value\n    });\n  }\n\n  onTextboxChangeSignUpFirstName(event) {\n    this.setState({\n      signUpFirstName: event.target.value\n    });\n  }\n\n  onTextboxChangeSignUpLastName(event) {\n    this.setState({\n      signUpLastName: event.target.value\n    });\n  }\n\n  onTextboxChangeSignUpEmail(event) {\n    this.setState({\n      signUpEmail: event.target.value\n    });\n  }\n\n  onTextboxChangeSignUpPassword(event) {\n    this.setState({\n      signUpPassword: event.target.value\n    });\n  }\n\n  onSignUp() {\n    // Grab state\n    const {\n      signUpFirstName,\n      signUpLastName,\n      signUpEmail,\n      signUpPassword\n    } = this.state;\n\n    this.setState({\n      isLoading: true\n    });\n\n    // Post request to backend\n    fetch('https://reactappconnectionapi.herokuapp.com/signup', { \n      method: 'POST',\n      headers:{\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        firstName: signUpFirstName,\n        lastName: signUpLastName,\n        email: signUpEmail,\n        password: signUpPassword\n      })\n    })\n      .then(res => res.json())\n      .then(json => {\n        if (json.success) {\n          this.setState({\n            signUpError: json.message,\n            isLoading: false,\n            signUpFirstName: '',\n            signUpLastName: '',\n            signUpEmail: '',\n            signUpPassword: ''\n          });\n        } else {\n          this.setState({\n            signUpError: json.message,\n            isLoading: false\n          });\n        }\n      });\n\n  }\n\n  onSignIn() {\n    // Grab state\n    const {\n      signInEmail,\n      signInPassword\n    } = this.state;\n\n    this.setState({\n      isLoading: true\n    });\n\n    // Post request to backend\n    fetch('https://reactappconnectionapi.herokuapp.com/signin', { \n      method: 'POST',\n      headers:{\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: signInEmail,\n        password: signInPassword\n      })\n    })\n      .then(res => res.json())\n      .then(json => {\n          console.log('here');\n        if (json.success) {\n          console.log('signed in');\n          setInStorage('the_main_app', { token: json.token });\n          this.setState({\n            signInError: json.message,\n            isLoading: false,\n            signInEmail: '',\n            signInPassword: '',\n            token: json.token,\n          });\n        } else {\n          this.setState({\n            signInError: json.message,\n            isLoading: false\n          });\n        }\n      }).catch(err => err);\n  }\n\n  logout() {\n    this.setState({\n      isLoading: true\n    });\n    const obj = getFromStorage('the_main_app');\n    if (obj && obj.token) {\n      // verify the token\n      fetch('https://reactappconnectionapi.herokuapp.com/logout?token=' + obj.token)\n      .then(res => res.json())\n      .then(json => {\n        if (json.success) {\n          this.setState({\n            token: '',\n            isLoading: false\n          });\n        } else {\n          this.setState({\n            isLoading: false,\n          });\n        }\n      });\n    } else {\n      // there is no token\n      this.setState({\n        isLoading: false\n      });\n    }\n  }\n\n  // render() {\n  //     return (\n  //         <div className=\"App\">\n  //             <header className=\"App-header\">\n  //                 <img src={logo} className=\"App-logo\" alt=\"logo\" />\n  //                 <h1 className=\"App-title\">Welcome to React</h1>\n  //             </header>\n  //             <p className=\"App-intro\">{this.state.apiResponse}</p>\n  //             <p className=\"App-intro\">{this.state.dbResponse}</p>\n\n  //         </div>\n  //     );\n  // }\n\n\n  render() {\n    const { \n      isLoading,\n      token,\n      signInError,\n      signInEmail,\n      signInPassword,\n      signUpFirstName,\n      signUpLastName,\n      signUpEmail,\n      signUpPassword,\n      signUpError\n    } = this.state;\n\n    if (isLoading) {\n      return (\n          <>\n        <div><p>Loading...</p></div>\n        <div className=\"App\">\n              <header className=\"App-header\">\n                  <img src={logo} className=\"App-logo\" alt=\"logo\" />\n                  <h1 className=\"App-title\">Welcome to React</h1>\n              </header>\n              <p className=\"App-intro\">{this.state.apiResponse}</p>\n              <p className=\"App-intro\">{this.state.dbResponse}</p>\n          </div>\n          </>\n        );\n    }\n\n    if (!token) {\n      return (\n          <>\n        <div>\n          <div>\n            {\n              (signInError) ? (<p>{signInError}</p>) : (null)\n            }\n            <p>Sign In</p><br/>\n            <input type=\"email\" placeholder=\"Email\" value={signInEmail} onChange={this.onTextboxChangeSignInEmail} /><br/>\n            <input type=\"password\" placeholder=\"Password\" value={signInPassword} onChange={this.onTextboxChangeSignInPassword} /><br/>\n            <button onClick={this.onSignIn}>Sign In</button>\n          </div>\n          <br/>\n          <br/>\n          <div>\n            {\n              (signUpError) ? (<p>{signUpError}</p>) : (null)\n            }\n            <p>Sign Up</p><br/>\n            <input type=\"text\" placeholder=\"First Name\" value={signUpFirstName} onChange={this.onTextboxChangeSignUpFirstName} /><br/>\n            <input type=\"text\" placeholder=\"Last Name\" value={signUpLastName} onChange={this.onTextboxChangeSignUpLastName} /><br/>\n            <input type=\"email\" placeholder=\"Email\" value={signUpEmail} onChange={this.onTextboxChangeSignUpEmail} /><br/>\n            <input type=\"password\" placeholder=\"Password\" value={signUpPassword} onChange={this.onTextboxChangeSignUpPassword} /><br/>\n            <button onClick={this.onSignUp}>Sign Up</button>\n          </div>\n        </div>\n        <div className=\"App\">\n        <header className=\"App-header\">\n            <img src={logo} className=\"App-logo\" alt=\"logo\" />\n            <h1 className=\"App-title\">Welcome to React</h1>\n        </header>\n        <p className=\"App-intro\">{this.state.apiResponse}</p>\n        <p className=\"App-intro\">{this.state.dbResponse}</p>\n    </div>\n    </>\n      );\n    }\n\n    return (\n        <>\n      <div>\n        <p>Account</p>\n        <button onClick={this.logout}>Logout</button>\n      </div>\n      <div className=\"App\">\n      <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <h1 className=\"App-title\">Welcome to React</h1>\n      </header>\n      <p className=\"App-intro\">{this.state.apiResponse}</p>\n      <p className=\"App-intro\">{this.state.dbResponse}</p>\n  </div>\n  </>\n    );\n  }\n\n\n\n\n\n\n\n\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";"],"sourceRoot":""}